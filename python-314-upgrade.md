# Python 3.14 Upgrade

This document records all changes made to upgrade the Platform MCP Server from Python 3.11+ to Python 3.14.

## Summary

The codebase was already written in a modern style that is forward-compatible with Python 3.14. No runtime code changes were required. All configuration targets were updated and the full test suite of 262 tests continues to pass.

## Changes Made

### `pyproject.toml`

| Setting | Before | After |
|---|---|---|
| `[project] requires-python` | `>=3.11` | `>=3.14` |
| `[tool.ruff] target-version` | `py311` | `py314` |
| `[tool.mypy] python_version` | `3.11` | `3.14` |

### `uv.lock`

Re-generated by running `uv lock` after updating `pyproject.toml`. The lockfile now pins `requires-python = ">=3.14"` and resolves dependencies against CPython 3.14.3. The `tomli` package was removed from the lock because its functionality (`tomllib`) ships in the Python 3.11+ standard library and is no longer needed as a third-party dependency.

## Python 3.14 Compatibility Assessment

### Code that required no changes

The codebase was already written using patterns that are idiomatic for Python 3.14:

- **Union types** — all type annotations use `X | Y` syntax (PEP 604) instead of `typing.Union[X, Y]` or `typing.Optional[X]`, which are the preferred forms in 3.10+.
- **Built-in generics** — `list[...]`, `dict[...]`, and `tuple[...]` are used throughout instead of the deprecated `typing.List`, `typing.Dict`, and `typing.Tuple` aliases.
- **`from __future__ import annotations`** — all modules carry this import, which defers annotation evaluation and remains fully supported in 3.14.
- **`typing.Literal` and `typing.Any`** — both remain part of the `typing` module in 3.14 and are used correctly in the codebase.
- **`dataclasses`** — used in `config.py` with `frozen=True`; no API changes in 3.14.
- **`asyncio`** — the server uses standard `async`/`await` with no deprecated `asyncio` APIs.
- **`pydantic` v2** — Pydantic 2.x is fully compatible with Python 3.14.

### Key Python 3.14 language changes reviewed

| Change | Impact on this codebase |
|---|---|
| PEP 649 — Lazy annotation evaluation is now the default behaviour | No impact. `from __future__ import annotations` (PEP 563) is still honoured and produces the same deferred semantics this codebase already depends on. |
| `tomllib` in stdlib (since 3.11) | `tomli` removed from lock file; no source change needed. |
| Removal of long-deprecated `typing` aliases (`List`, `Dict`, `Optional`, `Union`) | No impact. The codebase does not use any of these aliases. |
| `asyncio` event-loop policy deprecations finalised | No impact. The server uses `asyncio` via the MCP SDK without touching loop policies directly. |

## Test Results

```
platform linux -- Python 3.14.3, pytest-9.0.2, pluggy-1.6.0
collected 262 items

262 passed in 3.94s
```

All 262 tests pass without modification on Python 3.14.3.
